---
import { Card } from "@/components/home/Card";
import ProductsDataJSON from "@assets/home/new-products.json";

const images = Object.keys(
  import.meta.glob("@assets/home/img/new-product-*.webp", { eager: true })
);
type Locale = "en" | "es";
const currentLocale = (Astro.currentLocale ?? "es") as Locale;
const ProductsData = ProductsDataJSON[currentLocale];
const Title = ProductsDataJSON["title"][currentLocale];
---

<article class="px-[10%]">
  <h2 class="text-2xl mb-10">{Title}</h2>
  <div
    class="flex max-w-full overflow-x-scroll gap-x-[10vw] md:gap-x-5 h-[35vh]"
  >
    {
      images.map((v, i) => (
        <Card img={v} alt="img" info={ProductsData[i].info} />
      ))
    }
  </div>
</article>
<style>
  div {
    &::-webkit-scrollbar {
      display: none;
    }
    /* Hide scrollbar for IE, Edge and Firefox */
    & {
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
    }
  }
</style>
